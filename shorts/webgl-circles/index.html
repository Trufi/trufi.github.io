<!doctype html><html lang="ru_RU"><head> <meta charset="UTF-8"> <meta name="MobileOptimized" content="700"> <meta name="viewport" content="width=700"> <title>WebGL рисует не только треугольники</title> <link rel="stylesheet" href="/style.css"/></head><body> <div class="page"> <div class="header"> <ul class="topMenu"> <li class="topMenu__tab _disable"><span>Longs</span></li>  <li class="topMenu__tab"><a href="/">Shorts</a></li>  <li class="topMenu__tab"><a href="/author">Author</a></li>  </ul></div> <div class="body"> <div class="article">  <h2>WebGL рисует не только треугольники</h2>  <div class="article__text"> <p> Возможно, суровые бородатые дядьки, которые вовсю разрабатывают на OpenGL закидают меня помидорами, но я радовался как маленький ребёнок. На протяжении последних двух месяцев я считал и всем об этом рассказывал, что WebGL умеет рисовать только треугольники. Да, треугольники, и больше ничего.</p><img src="" alt="Треугольник"><p> Чтобы нарисовать квадрат, ему нужно два треугольника.</p><img src="" alt="Квадрат из двух треугольников"><p> А чтобы нарисовать круг, нужно немного попотеть! И всё равно это будет не совсем круг:</p><img src="" alt="Триангуляция круга"><p>Сколько на картинке выше треугольников? 52</p><p> Но неожиданно оказывается, что есть гораздо более простой и приятный способ это сделать:</p><img src="" alt="Круг, нарисованный простым способом"><p> Как вы думаете, сколько здесь используется треугольников? 1</p><p> Мы знаем, что фрагментый шейдер вычисляется для каждого пикселя, а атрибуты переданные в него через вершинный шейдер линейно интерполируются между вершиными треугольника. Значит можно задать для вершин систему координат, указать местопложение вершин и передать. Точно также как передаются uv-координаты при отрисовки текстуры.</p><p> Получается, что, когда вызывается фрагментый шейдер, мы знаем координаты пикселя относительно вершинной системы координат и можем на их основе определить, какой цвет он примет.</p><p> Например, мы можем сказать, что, если пиксель находится в круге с центром [Xc, Yc] и радиусом R:</p><code> if ((X - Xc)^2 - (Y - Yc)^2 < R^2)</code><p> то закрашивать его в чёрный цвет.</p>webgl пример<p> Можно придумать ещё уйму способов, например:</p>webgl пример с шестеренкой </div>  <div class="article__date">08.10.2015</div> </div> </div>  </div></body></html>